{% extends "wildlife/base.html" %}
{% block title %}Cameras{% endblock %}

{% block content %}
<h1>Cameras</h1>

<form method="get" style="margin: 10px 0 16px 0; display:flex; gap:10px; max-width:520px;">
  <input class="input" type="text" name="q" value="{{ q }}" placeholder="Search cameras (TRAILCAM05, trail name...)">
  <button class="btn" type="submit">Search</button>
  <a class="btn btn-primary" href="{% url 'wildlife:camera_create' %}">+ Add camera</a>
</form>

<table style="width:100%; border-collapse:collapse;">
  <thead>
    <tr style="text-align:left; border-bottom:1px solid #eee;">
      <th style="padding:10px 8px;">Name</th>
      <th style="padding:10px 8px;">Lat</th>
      <th style="padding:10px 8px;">Lng</th>
      <th style="padding:10px 8px;">Active</th>
      <th style="padding:10px 8px;">Notes</th>
      <th style="padding:10px 8px;">Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for cam in cameras %}
    <tr style="border-bottom:1px solid #f2f2f2;">
      <td style="padding:10px 8px; font-weight:600;">{{ cam.name }}</td>
      <td style="padding:10px 8px;">{{ cam.base_latitude }}</td>
      <td style="padding:10px 8px;">{{ cam.base_longitude }}</td>
      <td style="padding:10px 8px;">{% if cam.is_active %}✅{% else %}—{% endif %}</td>
      <td style="padding:10px 8px; color:#555;">{{ cam.description|default:"" }}</td>
      <td style="padding:10px 8px;">
        <a class="btn" href="{% url 'wildlife:camera_edit' cam.id %}">Edit</a>
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="6" style="padding:12px;">No cameras yet.</td></tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
